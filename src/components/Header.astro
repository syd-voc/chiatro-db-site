---
const lastModifiedModule = import.meta.glob(
    "../../data/snapshot/last_modified.json",
    { eager: true },
) as Record<string, { default: { fetched_at?: string } }>;

const lastModifiedData = Object.values(lastModifiedModule)[0]?.default;

const fetchedAt = lastModifiedData?.fetched_at
    ? new Date(lastModifiedData.fetched_at)
    : null;

const fetchedAtText = fetchedAt
    ? fetchedAt.toLocaleString("ja-JP", {
          year: "numeric",
          month: "2-digit",
          day: "2-digit",
          hour: "2-digit",
          minute: "2-digit",
      })
    : "不明";
---

<header class="site-header">
    <div class="header-main">
        <div class="logo">
            <a href="/">ちあトロデータベース</a>
        </div>
    </div>

    <div class="header-meta">
        最終更新：{fetchedAtText}
    </div>
</header>
